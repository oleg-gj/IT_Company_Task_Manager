{% extends "base.html" %}
{% load crispy_forms_filters %}

{% block content %}
    <h1>
      Task List
      <a href="{% url "task_manager:task-create" %}" class="btn btn-primary link-to-page">
        Create
      </a>
    </h1>
    <form action="" method="get" class="form-inline">
      {{ search_form|crispy }}
      <input type="submit" value="🔍" class="btn btn-secondary">
    </form>
    {% if task_list %}
    <table class="table">
      <tr>
        <th>ID</th>
        <th>NAME</th>
        <th>IS COMPLETE</th>
        <th>DEADLINE</th>
        <th>PRIORITY</th>
      </tr>
    {% for task in task_list %}
      <tr>
        <td>
          <a href="{% url "task_manager:task-detail" pk=task.id %}">{{ task.id }}</a>
        </td>
        <td>{{ task.name }}</td>
        <td>{{ task.is_complete }}</td>
        <td>{{ task.deadline }}</td>
        <td>{{ task.priority}}</td>
      </tr>
    {% endfor %}

    </table>
    {% else %}
      <p>There are no task.</p>
    {% endif %}
{% endblock %}
